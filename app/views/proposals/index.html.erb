<% provide :title do %><%= t("proposals.index.title") %><% end %>
<% content_for :header_addon do %>
  <%= render "shared/search_form",
             search_path: proposals_path(page: 1),
             i18n_namespace: "proposals.index.search_form" %>
<% end %>
<% content_for :canonical do %>
  <%= render "shared/canonical", href: proposals_url %>
<% end %>

<main>
  <%= render "shared/section_header", i18n_namespace: "proposals.index.section_header", image: "proposals" %>
  <div class="row">
    <div id="proposal-topics" class="small-12 medium-9 column">
      <% if @proposals.any? %>
        <div class="cards-container-component">
          <% @proposals.each do |proposal| %>
            <%= render Shared::CardComponent.new(
              proposal,
              proposal.title,
              proposal.image.variant(:thumb),
              proposal.summary,
              nil,
            ) %>
          <% end %>
        </div>
        <%= paginate @proposals %>
      <% else %>
        <div class="callout primary">
          No hay propuestas.
        </div>
      <% end %>
    </div>

    <div class="small-12 medium-3 column">
      <aside class="margin-bottom">
        <%= link_to t("proposals.index.start_proposal"),
          new_proposal_path,
          class: "button expanded" %>
      </aside>
    </div>
  </div>
</main>
